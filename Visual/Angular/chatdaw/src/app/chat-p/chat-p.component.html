<p *ngIf="!nUsuario">Usuario: sesión cerrada</p>
<ng-container *ngIf="nUsuario">
  <p>Usuario: {{ nUsuario }}</p>
  <button (click)="cerrarSesion()">Cerrar Sesión</button>
</ng-container>

<form>
  <mat-form-field class="example-full-width">
    <mat-label>Nombre del destinatario</mat-label>
    <input matInput [(ngModel)]="msjchat.destinatario" name="destinatario">
  </mat-form-field>

  <mat-form-field class="example-full-width">
    <mat-label>Escribe mensaje y pulsa enter</mat-label>
    <input matInput placeholder="Enter al finalizar" [(ngModel)]="msjchat.mensaje" name="mensaje">
  </mat-form-field>

  <button mat-button color="primary" (click)="enviarMensaje()">Enviar</button>
</form>

<mat-label>Mensajes recibidos por {{ miParametro }}</mat-label>

<table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

  <!-- ID Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
    <td mat-cell *matCellDef="let mensaje"> {{ mensaje.id }} </td>
  </ng-container>

  <!-- Fecha Column -->
  <ng-container matColumnDef="fecha">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha </th>
    <td mat-cell *matCellDef="let mensaje"> {{ mensaje.fecha }} </td>
  </ng-container>

  <!-- Usuario Column -->
  <ng-container matColumnDef="usuario">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Usuario </th>
    <td mat-cell *matCellDef="let mensaje"> {{ mensaje.usuario }} </td>
  </ng-container>

  <!-- Mensaje Column -->
  <ng-container matColumnDef="mensaje">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Mensaje </th>
    <td mat-cell *matCellDef="let mensaje"> {{ mensaje.mensaje }} </td>
  </ng-container>

  <!-- Destinatario Column -->
  <ng-container matColumnDef="destinatario">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Destinatario </th>
    <td mat-cell *matCellDef="let mensaje"> {{ mensaje.destinatario }} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

</table>
